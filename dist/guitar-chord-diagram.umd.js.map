{
  "version": 3,
  "sources": ["../src/guitar-chord-diagram.ts", "../src/utils/reef.js"],
  "sourcesContent": ["// @ts-nocheck\n\nimport { component, store } from \"./utils/reef\";\n\nconst DEFAULT_STATE = {\n  amountOfFrets: 4,\n  frets: [0, 0, 0, 0, 0, 3],\n  fingers: [1, 1, 1, 1, 1, 1],\n  barres: [],\n  capo: false,\n  baseFret: 1,\n  midi: [40, 45, 50, 55, 59, 64],\n  strings: 6,\n  tuning: [\"E2\", \"A2\", \"D3\", \"G3\", \"B3\", \"E4\"],\n};\n\nconst compareArrays = (a, b) => {\n  return JSON.stringify(a) === JSON.stringify(b);\n};\n\ntype State = {\n  amountOfFrets: number;\n  frets: number[];\n  fingers: number[];\n  barres: number[];\n  capo: boolean;\n  baseFret: number;\n  midi: number[];\n  strings: number;\n  tuning: string[];\n};\n\n// Define the type NumberOfStrings for better type checking\ntype NumberOfStrings = 4 | 6;\n\nexport type Chord = {\n  frets: number[];\n  fingers: number[];\n  baseFret: number;\n  barres: number[];\n  midi: number[];\n  strings: NumberOfStrings;\n  amountOfFrets: number;\n  capo: boolean;\n};\n\nconst splitArray = (value: string | null) => {\n  if (!value) return null;\n  return value.split(\",\");\n};\n\nconst parseIntArray = (value: string[]) => {\n  return value.map((v) => parseInt(v));\n};\n\nclass GuitarChordDiagram extends HTMLElement {\n  // Shadow DOM\n  private shadow: ShadowRoot;\n  private isInitialising = true;\n  private dragStart: { string: number; fret: number } | null = null;\n\n  // Reflective properties\n\n  private radius = {\n    open: 2,\n    fret: 4,\n  };\n\n  static get formAssociated() {\n    return true;\n  }\n\n  private _internals: ElementInternals;\n\n  FRET_POSITIONS: Array<number>;\n  FINGER_POSITIONS: Array<number>;\n\n  positions: {\n    string: Array<number>;\n    fret: Array<number>;\n    finger: Array<number>;\n  };\n\n  state: State;\n\n  TRANSLATE_OFFSET = 13;\n  DOT_DIAMETER = 8.25;\n  DOT_RADIUS = this.DOT_DIAMETER / 2;\n  STROKE_WIDTH = 0.25;\n\n  fretXPosition = {\n    4: [10, 20, 30, 40, 50],\n    6: [0, 10, 20, 30, 40, 50],\n  };\n\n  TUNING_FONT_SIZE = 3;\n  FRET_HEIGHT = 16;\n  FRET_Y_CENTER = this.DOT_RADIUS - this.STROKE_WIDTH;\n\n  fretYPosition = [\n    this.FRET_Y_CENTER,\n    this.FRET_HEIGHT + this.FRET_Y_CENTER,\n    2 * this.FRET_HEIGHT + this.FRET_Y_CENTER,\n    3 * this.FRET_HEIGHT + this.FRET_Y_CENTER,\n  ];\n\n  offset = {\n    4: 0,\n    6: -1,\n  };\n\n  offsets = {\n    4: {\n      x: 10,\n      y: 10,\n      length: 40,\n    },\n    6: {\n      x: 0,\n      y: 0,\n      length: 50,\n    },\n  };\n\n  getStringPositionDot = (string: number, strings: NumberOfStrings) =>\n    this.positions.string[string + this.offset[strings]];\n\n  getStringPosition = (string: number, strings: NumberOfStrings) =>\n    this.positions.string[string + this.offset[strings]];\n\n  onlyBarres = (frets: Array<number>, barre: number) =>\n    frets\n      .map((f, index) => ({ position: index, value: f }))\n      .filter((f) => f.value === barre);\n\n  parseIntArrayString = (value: string | null) => {\n    if (!value) return null;\n    return value.split(\",\").map((v) => parseInt(v));\n  };\n\n  stringifyIntArray = (value: number[] | null) => {\n    if (!value) return null;\n    return value.join(\",\");\n  };\n\n  parseBoolean = (value: string | null) => {\n    return value === \"true\";\n  };\n\n  stringifyBoolean = (value: boolean | null) => {\n    return value.toString();\n  };\n\n  stringifyStringArray = (value: string[] | null) => {\n    if (!value) return null;\n    return value.join(\",\");\n  };\n\n  parseStringArray = (value: string | null) => {\n    if (!value) return null;\n    return value.split(\",\");\n  };\n\n  getIntArrayAttribute = (attrName: string) => {\n    return this.parseIntArrayString(this.getAttribute(attrName));\n  };\n\n  getStringArrayAttribute = (attrName: string) => {\n    return this.parseStringArray(this.getAttribute(attrName));\n  };\n\n  getBooleanAttribute = (attrName: string) => {\n    return this.hasAttribute(attrName);\n  };\n\n  getNumberAttribute = (attrName: string) => {\n    return parseInt(this.getAttribute(attrName) as string);\n  };\n\n  setDefaultAttributes = () => {};\n\n  constructor() {\n    super();\n\n    this._internals = this.attachInternals();\n\n    this.shadow = this.attachShadow({ mode: \"open\" });\n\n    this.name = this.getAttribute(\"name\");\n\n    if (!this.getAttribute(\"amount-of-frets\")) {\n      this.setAttribute(\n        \"amount-of-frets\",\n        DEFAULT_STATE[\"amountOfFrets\"].toString()\n      );\n    }\n\n    if (!this.getAttribute(\"frets\")) {\n      this.setAttribute(\n        \"frets\",\n        this.stringifyIntArray(DEFAULT_STATE[\"frets\"])\n      );\n    }\n\n    if (!this.getAttribute(\"fingers\")) {\n      this.setAttribute(\n        \"fingers\",\n        this.stringifyIntArray(DEFAULT_STATE[\"fingers\"])\n      );\n    }\n\n    if (!this.getAttribute(\"base-fret\")) {\n      this.setAttribute(\"base-fret\", DEFAULT_STATE[\"baseFret\"].toString());\n    }\n\n    if (!this.getAttribute(\"midi\")) {\n      this.setAttribute(\"midi\", this.stringifyIntArray(DEFAULT_STATE[\"midi\"]));\n    }\n\n    if (!this.getAttribute(\"strings\")) {\n      this.setAttribute(\"strings\", DEFAULT_STATE[\"strings\"].toString());\n    }\n\n    if (!this.getAttribute(\"tuning\")) {\n      this.setAttribute(\n        \"tuning\",\n        this.stringifyStringArray(DEFAULT_STATE[\"tuning\"])\n      );\n    }\n\n    this.state = store(\n      {\n        amountOfFrets: this.getNumberAttribute(\"amount-of-frets\"),\n        frets: this.getIntArrayAttribute(\"frets\"),\n        fingers: this.getIntArrayAttribute(\"fingers\"),\n        barres: this.getIntArrayAttribute(\"barres\") || [],\n        capo: this.getBooleanAttribute(\"capo\"),\n        baseFret: this.getNumberAttribute(\"base-fret\"),\n        midi: this.getIntArrayAttribute(\"midi\"),\n        strings: this.getNumberAttribute(\"strings\"),\n        tuning: this.getStringArrayAttribute(\"tuning\"),\n      },\n      {\n        setAmountOfFrets: (state, value: number) => {\n          const validatedValue = Number(value); // Ensure it's a number\n          const fretsLargerThanAmountOfFrets = state.frets.filter(\n            (f) => f > validatedValue\n          );\n\n          let finalValue = validatedValue;\n\n          if (validatedValue < 1) {\n            finalValue = 1;\n          } else if (validatedValue > 24) {\n            finalValue = 24;\n          } else if (Number.isNaN(validatedValue)) {\n            finalValue = DEFAULT_STATE[\"amountOfFrets\"];\n          } else if (fretsLargerThanAmountOfFrets.length > 0) {\n            finalValue = Math.max(...fretsLargerThanAmountOfFrets);\n          }\n\n          state.amountOfFrets = finalValue;\n        },\n\n        setFrets: (state, value: number[]) => {\n          const validatedValue = value.map((v) => Number(v)); // Ensure it's a number\n          let finalValue = validatedValue;\n\n          validatedValue.forEach((v, index) => {\n            if (v > state.amountOfFrets) {\n              finalValue[index] = state.amountOfFrets;\n            } else if (v < -1 || Number.isNaN(v)) {\n              finalValue[index] = -1;\n            }\n          });\n\n          state.frets = finalValue;\n\n          // Update barres - Remove any barres that are no longer valid\n          state.barres = state.barres.filter((barre) =>\n            state.frets.includes(barre)\n          );\n        },\n\n        setFingers: (state, value: number[]) => {\n          const validatedValue = value.map((v) => Number(v)); // Ensure it's a number\n\n          if (\n            !validatedValue.some((v) => Number.isNaN(v)) &&\n            validatedValue.every((v) => v >= 0 && v <= 4)\n          ) {\n            state.fingers = validatedValue;\n          } else {\n            throw new RangeError(\"Invalid fingers: \" + value);\n          }\n        },\n\n        setBarres: (state, value: number[]) => {\n          if (!value) {\n            state.barres = [];\n            return;\n          }\n          const validatedValue = value.map((v) => Number(v)); // Ensure it's a number\n\n          if (\n            !validatedValue.some((v) => Number.isNaN(v)) &&\n            validatedValue.every((v) => v >= 1 && v <= this.amountOfFrets)\n          ) {\n            state.barres = validatedValue;\n          } else {\n            throw new RangeError(\"Invalid barres: \" + value);\n          }\n        },\n\n        setCapo: (state, value: boolean) => {\n          state.capo = value;\n\n          if (value) {\n          } else {\n            this.removeAttribute(\"capo\");\n          }\n        },\n\n        setBaseFret: (state, value: number) => {\n          const validatedValue = Number(value); // Ensure it's a number\n\n          if (\n            !Number.isNaN(validatedValue) &&\n            validatedValue >= 1 &&\n            validatedValue <= 24\n          ) {\n            state.baseFret = validatedValue;\n          } else {\n            throw new RangeError(\"Invalid base fret: \" + value);\n          }\n        },\n\n        setMidi: (state, value: number[]) => {\n          const validatedValue = value.map((v) => Number(v)); // Ensure it's a number\n\n          if (\n            !validatedValue.some((v) => Number.isNaN(v)) &&\n            validatedValue.every((v) => v >= 0 && v <= 127)\n          ) {\n            state.midi = validatedValue;\n          } else {\n            throw new RangeError(\"Invalid midi: \" + value);\n          }\n        },\n\n        setStrings: (state, value: number) => {\n          const validatedValue = Number(value); // Ensure it's a number\n\n          if (validatedValue === 4 || validatedValue === 6) {\n            state.strings = validatedValue;\n          } else {\n            throw new RangeError(\"Invalid strings: \" + value);\n          }\n        },\n\n        setTuning: (state, value: string[]) => {\n          if (value.length !== this.strings) {\n            throw new RangeError(\n              `Invalid tuning: ${value}. Should be length ${this.strings}`\n            );\n          }\n\n          state.tuning = value;\n        },\n      },\n      \"chord\"\n    );\n\n    this._internals.setFormValue(this.value);\n    // @ts-ignore\n    this.FRET_POSITIONS = new Array(this.state.value.amountOfFrets + 1)\n      .fill(0)\n      .map((_, index) => {\n        const offset = 0.5;\n        if (index === 0) return this.FRET_HEIGHT * (0.3 * -1);\n        return this.FRET_HEIGHT * (offset + index - 1);\n      });\n\n    this.FINGER_POSITIONS = this.FRET_POSITIONS.map(\n      (fret) => fret + this.TUNING_FONT_SIZE / 2\n    );\n\n    this.positions = {\n      string: [50, 40, 30, 20, 10, 0],\n      fret: this.FRET_POSITIONS,\n      finger: this.FINGER_POSITIONS,\n    };\n  }\n\n  connectedCallback() {\n    this.isInitialising = false;\n\n    component(this.shadowRoot, this.template, {\n      signals: [\"chord\"],\n    });\n\n    this.shadowRoot?.addEventListener(\"mousedown\", this.handleMouseDown);\n    this.shadowRoot?.addEventListener(\"mouseup\", this.handleMouseUp);\n  }\n\n  static get observedAttributes() {\n    return [\n      \"amount-of-frets\",\n      \"frets\",\n      \"fingers\",\n      \"barres\",\n      \"capo\",\n      \"base-fret\",\n      \"strings\",\n      \"tuning\",\n    ];\n  }\n\n  get name() {\n    return this.getAttribute(\"name\");\n  }\n\n  set name(val) {\n    this.setAttribute(\"name\", val || \"\");\n  }\n\n  // Value property to integrate with form data\n  get value() {\n    // Should return a string that represents all the values\n    // For example, JSON representation\n    return JSON.stringify(this.state.value);\n  }\n\n  set value(val) {\n    // Should set all the values based on the string representation\n    // For example, JSON representation\n    const parsedValue = JSON.parse(val);\n\n    this.state.setAmountOfFrets(parsedValue.amountOfFrets);\n    this.state.setFrets(parsedValue.frets);\n    this.state.setFingers(parsedValue.fingers);\n    this.state.setBarres(parsedValue.barres);\n    this.state.setCapo(parsedValue.capo);\n    this.state.setBaseFret(parsedValue.baseFret);\n    this.state.setMidi(parsedValue.midi);\n    this.state.setStrings(parsedValue.strings);\n    this.state.setTuning(parsedValue.tuning);\n  }\n\n  // Custom form validation\n  checkValidity() {\n    // Your validation logic here\n    return true; // return false if invalid\n  }\n\n  reportValidity() {\n    // Your reporting logic here\n    const valid = this.checkValidity();\n    if (!valid) {\n      // Show an error message\n    }\n    return valid;\n  }\n\n  // Define getters and setters for properties\n  get amountOfFrets(): typeof this.state.amountOfFrets {\n    return this.state.value.amountOfFrets;\n  }\n\n  set amountOfFrets(val: typeof this.state.amountOfFrets) {\n    this.setAttribute(\"amount-of-frets\", val.toString());\n    this._internals.setFormValue(this.value);\n  }\n\n  get frets() {\n    return this.state.value.frets;\n  }\n\n  set frets(val) {\n    this.setAttribute(\"frets\", val.join(\",\"));\n    this._internals.setFormValue(this.value);\n  }\n\n  get fingers() {\n    return this.state.value.fingers;\n  }\n\n  set fingers(val) {\n    this.setAttribute(\"fingers\", val.join(\",\"));\n    this._internals.setFormValue(this.value);\n  }\n\n  get barres() {\n    return this.state.value.barres;\n  }\n\n  set barres(val) {\n    if (!val || val.length === 0) {\n      this.removeAttribute(\"barres\");\n    } else {\n      this.setAttribute(\"barres\", val.join(\",\"));\n    }\n    this._internals.setFormValue(this.value);\n  }\n\n  get capo() {\n    return this.state.value.capo;\n  }\n\n  set capo(val) {\n    if (val) {\n      this.setAttribute(\"capo\", \"\");\n    } else {\n      this.removeAttribute(\"capo\");\n    }\n    this._internals.setFormValue(this.value);\n  }\n\n  get baseFret() {\n    return this.state.value.baseFret;\n  }\n\n  set baseFret(val) {\n    this.setAttribute(\"base-fret\", val.toString());\n    this._internals.setFormValue(this.value);\n  }\n\n  get midi() {\n    return this.state.value.midi;\n  }\n\n  set midi(val) {\n    this.setAttribute(\"midi\", val.join(\",\"));\n    this._internals.setFormValue(this.value);\n  }\n\n  get strings() {\n    return this.state.value.strings;\n  }\n\n  set strings(val) {\n    this.setAttribute(\"strings\", val.toString());\n    this._internals.setFormValue(this.value);\n  }\n\n  get tuning() {\n    return this.state.value.tuning;\n  }\n\n  set tuning(val) {\n    this.setAttribute(\"tuning\", val.join(\",\"));\n    this._internals.setFormValue(this.value);\n  }\n\n  getNeckHorizonalLine = (pos: number) => {\n    return `M ${this.offsets[this.strings].x} ${this.FRET_HEIGHT * pos} H ${\n      this.offsets[this.strings].length\n    }`;\n  };\n\n  getNeckVerticalLine = (pos: number) =>\n    `M ${this.offsets[this.strings].y + pos * 10} 0 V ${\n      this.amountOfFrets * this.FRET_HEIGHT\n    }`;\n\n  getNeckPath = () => {\n    return [...Array(this.amountOfFrets + 1)]\n      .map((_, pos) => this.getNeckHorizonalLine(pos))\n      .join(\" \")\n      .concat(\n        [...Array(this.strings)]\n          .map((_, pos) => this.getNeckVerticalLine(pos))\n          .join(\" \")\n      );\n  };\n\n  getBarreOffset = (\n    amountOfStrings: NumberOfStrings,\n    frets: Array<number>,\n    baseFret: number,\n    showCapo?: boolean\n  ) => {\n    if (amountOfStrings === 6) {\n      if (frets[0] === 1 || showCapo) {\n        // Move over to make space for dot or capo\n        return baseFret > 9 ? -12 : -8;\n      } else {\n        return baseFret > 9 ? -10 : -7;\n      }\n    }\n\n    return -10;\n  };\n\n  onlyDots = () =>\n    this.frets\n      // @ts-expect-error\n      .map((f, index) => ({ position: index, value: f }))\n      // @ts-expect-error\n      .filter((f) => !this.barres || this.barres.indexOf(f.value) === -1);\n\n  setReflectiveAttribute(attrName: string, defaultValue: string | null) {\n    const existingAttribute = this.getAttribute(attrName);\n\n    if (existingAttribute) return;\n\n    this.setAttribute(attrName, defaultValue);\n  }\n\n  attributeChangedCallback(attrName: string, oldVal: string, newVal: string) {\n    if (oldVal === newVal || this.isInitialising) return;\n\n    switch (attrName) {\n      case \"amount-of-frets\":\n        this.state.setAmountOfFrets(parseInt(newVal));\n        break;\n      case \"frets\":\n        this.state.setFrets(this.parseIntArrayString(newVal));\n        break;\n      case \"fingers\":\n        this.state.setFingers(this.parseIntArrayString(newVal));\n        break;\n      case \"barres\":\n        this.state.setBarres(this.parseIntArrayString(newVal));\n        break;\n      case \"capo\":\n        this.state.setCapo(newVal !== null);\n        break;\n      case \"base-fret\":\n        this.state.setBaseFret(parseInt(newVal));\n        break;\n      case \"strings\":\n        this.state.setStrings(parseInt(newVal));\n        break;\n      case \"tuning\":\n        this.state.setTuning(splitArray(newVal));\n        break;\n    }\n  }\n\n  template = () => {\n    return `\n    <svg\n      width=\"100%\"\n      xmlns=\"http://www.w3.org/2000/svg\"\n      preserveAspectRatio=\"xMinYMin meet\"\n      viewBox=\"0 0 75 ${34 + this.FRET_HEIGHT * this.amountOfFrets}\"\n      style=\"border: 1px solid #ccc;user-select: none;\"\n      \n    >\n      <g transform=\"translate(${this.TRANSLATE_OFFSET}, ${\n      this.TRANSLATE_OFFSET\n    })\">\n        ${this.renderNeck()}\n        ${this.renderBarre()}\n        ${this.renderDot()}\n      </g>\n    </svg>\n  `;\n  };\n\n  renderNeck = () => `\n    <g>\n      <path\n        stroke=\"#444\"\n        stroke-width=\".25\"\n        stroke-linecap=\"square\"\n        stroke-linejoin=\"miter\"\n        d=\"${this.getNeckPath()}\"\n      ></path>\n      ${\n        this.baseFret === 1\n          ? this.renderCapoBaseFret()\n          : this.renderBaseFretText()\n      }\n      ${this.renderTuning()}\n    </g>\n  `;\n\n  renderCapoBaseFret = () => {\n    return `\n    <path\n      stroke=\"#444\"\n      stroke-width=\"2\"\n      stroke-linecap=\"round\"\n      stroke-linejoin=\"round\"\n      d=\"M ${this.offsets[this.strings].x} 0 H ${\n      this.offsets[this.strings].length\n    }\"\n    ></path>\n  `;\n  };\n\n  renderBaseFretText = () => `\n    <text\n      font-size=\"${this.TUNING_FONT_SIZE}pt\"\n      fill=\"#444\"\n      font-family=\"Arial\"\n      x=\"${this.getBarreOffset(\n        this.strings,\n        this.frets,\n        this.baseFret,\n        this.capo\n      )}\"\n      y=\"${this.FRET_HEIGHT / 2 + this.TUNING_FONT_SIZE / 2}\"\n    >\n      ${`${this.baseFret}fr`}\n    </text>\n  `;\n\n  renderTuning = () => `\n    <g>\n      ${this.tuning.slice().map(\n        // @ts-expect-error\n        (note, index) => `\n      <text\n        key=\"${note + index}\"\n        font-size=\"0.22rem\"\n        fill=\"#444\"\n        font-family=\"Arial\"\n        text-anchor=\"middle\"\n        x=\"${this.offsets[this.strings].x + index * 10}\"\n        y=\"${this.FRET_HEIGHT * this.amountOfFrets + this.TUNING_FONT_SIZE + 2}\"\n      >\n        ${note}\n      </text>\n      `\n      )}\n    </g>\n  `;\n\n  renderBarre = () => {\n    if (!this.barres) return \"\";\n    // @ts-expect-error\n    return `${this.barres.map((barre, index) =>\n      this.renderSingleBarre(barre, index)\n    )}`;\n  };\n\n  renderSingleBarre = (barre: number, index: number) => {\n    // const finger =\n    //     this.fingers &&\n    //     this.fingers[this.frets.indexOf(barre)];\n    const strings = this.frets.length as NumberOfStrings;\n    const barreFrets = this.onlyBarres(this.frets, barre);\n\n    if (barreFrets.length === 0) return \"\";\n\n    const string1 = barreFrets[0].position;\n    const string2 = barreFrets[barreFrets.length - 1].position;\n    const width = (string2 - string1) * 10;\n    const y = this.fretYPosition[barre - 1];\n\n    return `\n      <g>\n        ${\n          index === 0 && this.capo\n            ? this.renderCapo(this.strings, barreFrets)\n            : \"\"\n        }\n        <rect\n          fill=\"#444\"\n          x=\"${this.fretXPosition[this.strings][string1]}\"\n          y=\"${y}\"\n          width=\"${width}\"\n          height=\"${this.DOT_DIAMETER}\"\n        ></rect>\n      </g>\n    `;\n  };\n\n  renderCapo = (\n    strings: NumberOfStrings,\n    barreFrets: { position: number; value: number }[]\n  ) => `\n    <g>\n      <g\n        transform=\"translate(${this.getStringPosition(\n          this.strings,\n          this.strings\n        )}, ${this.positions.fret[barreFrets[0].value]})\"\n      >\n        <path\n          d=\"M 0, 0 m -4, 0 a 4,4 0 1,1 8,0\"\n          fill=\"#555\"\n          fill-opacity=\"0.2\"\n          transform=\"rotate(-90)\"\n        ></path>\n      </g>\n      <rect\n        fill=\"#555\"\n        x=\"${this.fretXPosition[strings][0]}\"\n        y=\"0\"\n        width=\"${(this.strings - 1) * 10}\"\n        fill-opacity=\"0.2\"\n        height=\"${this.DOT_DIAMETER}\"\n        transform=\"translate(${this.getStringPosition(strings, strings)}, ${\n    this.positions.fret[barreFrets[0].value] - this.DOT_RADIUS\n  })\"\n      ></rect>\n      <g\n        transform=\"translate(${this.getStringPosition(1, strings)}, ${\n    this.positions.fret[barreFrets[0].value]\n  })\"\n      >\n        <path\n          d=\"M 0, 0 m -4, 0 a 4,4 0 1,1 8,0\"\n          fill=\"#555\"\n          fill-opacity=\"0.2\"\n          transform=\"rotate(90)\"\n        ></path>\n      </g>\n    </g>\n  `;\n\n  renderDot = () => {\n    const allDots = (() => {\n      if (!this.barres) return [];\n\n      return [\n        ...this.onlyDots(),\n        ...this.barres\n          // @ts-expect-error\n          .map((barre) => this.onlyBarres(this.frets, barre))\n          .flat(),\n      ].sort((a, b) => a.position - b.position);\n    })();\n\n    const dots = this.shadowRoot.querySelectorAll(\".dot\");\n    dots.forEach((dot) => {\n      dot.addEventListener(\"keydown\", (e) => {\n        const dotIndex = Array.from(dots).indexOf(dot);\n        this.handleDotKeydown(e, dotIndex);\n      });\n    });\n\n    return `\n    ${allDots.map((fret) => {\n      const string = this.strings - fret.position;\n      const finger = this.fingers && this.fingers[fret.position];\n\n      return fret.value === -1\n        ? this.renderMuteDot(string)\n        : this.renderFretDot(fret, string, finger);\n    })}\n  `;\n  };\n\n  renderMuteDot = (string: number) => `\n    <text\n      class=\"dot\"\n      tabindex=\"0\"\n      font-size='5.3pt'\n      fill='#444'\n      font-family='Verdana'\n      text-anchor='middle'\n      x=\"${this.getStringPositionDot(string, this.strings)}\"\n      y='-2.75'\n      >x</text>\n  `;\n\n  renderFretDot = (\n    fret: { position: number; value: number },\n    string: number,\n    finger: number | undefined\n  ) => `\n    <g>\n      <circle\n        class=\"dot\"\n        tabindex=\"0\"\n        stroke-width=\"0.25\"\n        stroke=\"#444\"\n        fill=\"${fret.value === 0 ? \"transparent\" : \"#444\"}\"\n        cx=\"${this.getStringPositionDot(string, this.strings)}\"\n        cy=\"${this.FRET_POSITIONS[fret.value]}\"\n        r=\"${fret.value === 0 ? this.radius.open : this.radius.fret}\"\n      />\n      ${\n        finger && finger > 0\n          ? this.renderFingerNumber(fret, string, finger)\n          : \"\"\n      }\n    </g>\n  `;\n\n  renderFingerNumber = (\n    fret: { position: number; value: number },\n    string: number,\n    finger: number\n  ) => `\n    <text\n      font-size=\"${this.TUNING_FONT_SIZE}pt\"\n      font-family=\"Verdana\"\n      text-anchor=\"middle\"\n      fill=\"white\"\n      x=\"${this.getStringPositionDot(string, this.strings)}\"\n      y=\"${this.FINGER_POSITIONS[fret.value]}\"\n    >\n      ${finger}\n    </text>\n  `;\n\n  changeFret(dotIndex, change) {\n    // dotIndex corresponds to a string in your guitar chord diagram\n    // 'change' is either 1 (increase fret) or -1 (decrease fret)\n\n    // Calculate the new fret value\n    let newFretValue = this.frets[dotIndex] + change;\n\n    // Implement your fret range limits (e.g., 0 to amountOfFrets)\n    newFretValue = Math.max(0, Math.min(newFretValue, this.amountOfFrets));\n\n    // Update the frets array\n    const newFrets = [...this.frets];\n    newFrets[dotIndex] = newFretValue;\n\n    this.frets = newFrets;\n    console.log(newFrets);\n  }\n\n  focusDot(index) {\n    const dots = this.shadowRoot.querySelectorAll(\".dot\");\n    if (dots[index]) {\n      dots[index].focus();\n    }\n  }\n\n  handleDotKeydown(e, dotIndex) {\n    const key = e.key;\n    const totalDots = this.shadowRoot.querySelectorAll(\".dot\").length;\n    let newDotIndex;\n\n    switch (key) {\n      case \"ArrowRight\":\n        newDotIndex = (dotIndex + 1) % totalDots;\n        this.focusDot(newDotIndex);\n        break;\n      case \"ArrowLeft\":\n        newDotIndex = (dotIndex - 1 + totalDots) % totalDots;\n        this.focusDot(newDotIndex);\n        break;\n      case \"ArrowUp\":\n        this.changeFret(dotIndex, -1);\n        break;\n      case \"ArrowDown\":\n        console.log(\"DOWN\");\n        this.changeFret(dotIndex, 1);\n        break;\n    }\n  }\n\n  getClosestString = (x: number) => {\n    const stringPositions = Object.values(this.positions.string).slice(\n      0,\n      this.strings\n    );\n    const closestString = stringPositions.reduce((prev, curr) =>\n      Math.abs(curr + this.TRANSLATE_OFFSET - x) <\n      Math.abs(prev + this.TRANSLATE_OFFSET - x)\n        ? curr\n        : prev\n    );\n    return stringPositions.indexOf(closestString) + 1;\n  };\n\n  getClosestFret = (y: number) => {\n    const fretPositions = Object.values(this.positions.fret).slice(\n      0,\n      this.amountOfFrets + 1\n    );\n    const closestFret = fretPositions.reduce((prev, curr) =>\n      Math.abs(curr + this.TRANSLATE_OFFSET - y) <\n      Math.abs(prev + this.TRANSLATE_OFFSET - y)\n        ? curr\n        : prev\n    );\n    return fretPositions.indexOf(closestFret);\n  };\n\n  handleMouseDown = (e: MouseEvent) => {\n    const svgElement = this.shadowRoot?.querySelector(\"svg\");\n    if (!svgElement) return;\n\n    const pt = svgElement.createSVGPoint();\n    pt.x = e.clientX;\n    pt.y = e.clientY;\n\n    const cursorpt = pt.matrixTransform(svgElement.getScreenCTM()?.inverse());\n    const closestString = this.getClosestString(cursorpt.x);\n    const closestFret = this.getClosestFret(cursorpt.y);\n\n    const stringIndex = this.strings - closestString;\n\n    const newFrets = [...this.frets];\n    const newBarres = new Set(this.barres);\n\n    // Directly update the frets on mousedown\n    if (closestFret === 0) {\n      if (this.frets[stringIndex] === 0) {\n        newFrets[stringIndex] = -1;\n      } else {\n        newFrets[stringIndex] = 0;\n      }\n    } else {\n      newFrets[stringIndex] = closestFret;\n    }\n\n    this.dragStart = {\n      string: stringIndex,\n      fret: closestFret,\n      fretValue: newFrets[stringIndex],\n    };\n\n    this.originalBarres = [...this.barres]; // Store the original barres State\n    this.originalFrets = [...this.frets]; // Store the original frets State\n\n    // Check and remove barres with less than 2 frets on them\n    newBarres.forEach((barre) => {\n      const fretCount = newFrets.filter((fret) => fret === barre).length;\n      if (fretCount < 2) {\n        newBarres.delete(barre);\n      }\n    });\n\n    if (!compareArrays(newFrets, this.frets)) {\n      this.frets = newFrets;\n    }\n\n    if (!compareArrays(Array.from(newBarres), this.barres)) {\n      this.barres = Array.from(newBarres);\n    }\n\n    this.shadowRoot?.addEventListener(\"mousemove\", this.handleMouseMove);\n    document.addEventListener(\"mouseup\", this.handleMouseUp);\n  };\n\n  handleMouseMove = (e: MouseEvent) => {\n    if (!this.dragStart) return;\n\n    const svgElement = this.shadowRoot?.querySelector(\"svg\");\n    if (!svgElement) return;\n\n    const pt = svgElement.createSVGPoint();\n    pt.x = e.clientX;\n    pt.y = e.clientY;\n\n    const cursorpt = pt.matrixTransform(svgElement.getScreenCTM()?.inverse());\n    const currentString = this.getClosestString(cursorpt.x);\n    const currentFret = this.dragStart.fretValue;\n\n    const startStringIndex = this.dragStart.string;\n    const currentStringIndex = this.strings - currentString;\n    const minStringIndex = Math.min(startStringIndex, currentStringIndex);\n    const maxStringIndex = Math.max(startStringIndex, currentStringIndex);\n\n    const newFrets = [...this.originalFrets]; // Start with the original frets\n    const newBarres = new Set(this.originalBarres); // Use a set to manage unique barre values\n\n    // Update frets and potentially add to barres based on drag range\n    for (let i = minStringIndex; i <= maxStringIndex; i++) {\n      newFrets[i] = currentFret;\n      if (\n        startStringIndex !== currentStringIndex &&\n        currentFret !== -1 &&\n        currentFret !== 0\n      ) {\n        newBarres.add(currentFret);\n      }\n    }\n\n    // Check and remove barres with less than 2 frets on them\n    newBarres.forEach((barre) => {\n      const fretCount = newFrets.filter((fret) => fret === barre).length;\n      if (fretCount < 2) {\n        newBarres.delete(barre);\n      }\n    });\n\n    const updatedBarres = Array.from(newBarres);\n\n    // Update state only if there's a change\n    if (!compareArrays(newFrets, this.frets)) {\n      this.frets = newFrets;\n    }\n\n    if (!compareArrays(updatedBarres, this.barres)) {\n      this.barres = updatedBarres;\n    }\n  };\n\n  handleMouseUp = (e: MouseEvent) => {\n    this.shadowRoot?.removeEventListener(\"mousemove\", this.handleMouseMove);\n    document.removeEventListener(\"mouseup\", this.handleMouseUp);\n    this.dragStart = null;\n    this.originalFrets = []; // Clear the original frets state\n    this.originalBarres = []; // Clear the original barres state\n  };\n}\n\nwindow.customElements.define(\"guitar-chord-diagram\", GuitarChordDiagram);\n", "/*! reef v13.0.2 | (c) 2023 Chris Ferdinandi | MIT License | http://github.com/cferdinandi/reef */\nfunction e(e,t,n=document){let i=new CustomEvent(`chorducate:${e}`,{bubbles:!0,cancelable:!0,detail:t});return n.dispatchEvent(i)}function t(e){return\"string\"==typeof e?document.querySelector(e):e}function n(e){return Object.prototype.toString.call(e).slice(8,-1).toLowerCase()}function i(t,r){let o=\"signal\"+(t?`-${t}`:\"\");return{get:(e,r)=>\"_isSignal\"===r||([\"object\",\"array\"].includes(n(e[r]))&&!e[r]._isSignal&&(e[r]=new Proxy(e[r],i(t))),e[r]),set:(t,n,i)=>(t[n]===i||(t[n]=i,e(o,{prop:n,value:i,action:\"set\"})),!0),deleteProperty:(t,n)=>(delete t[n],e(o,{prop:n,value:t[n],action:\"delete\"}),!0)}}function r(e={},t=\"\"){return e=[\"array\",\"object\"].includes(n(e))?e:{value:e},new Proxy(e,i(t))}class o{constructor(t,n,i=\"\"){let r=\"signal\"+(i?`-${i}`:\"\");Object.defineProperties(this,{value:{get:()=>structuredClone(t),set:()=>!0}});for(let i in n)\"function\"==typeof n[i]&&(this[i]=function(...o){n[i](t,...o),e(r,t)})}}function l(e={},t={},n=\"\"){return new o(e,t,n)}let s,u=[\"input\",\"option\",\"textarea\"],c=[\"value\",\"checked\",\"selected\"],d=[\"checked\",\"selected\"];function a(e){return[\"false\",\"null\",\"undefined\",\"0\",\"-0\",\"NaN\",\"0n\",\"-0n\"].includes(e)}function f(e,t,n,i){if(!t.startsWith(\"on\")||!i)return;if(e[t])return;let r=i[n.split(\"(\")[0]];r&&(e[t]=r)}function h(e,t){let n=t.replace(/\\s+/g,\"\").toLowerCase();return!(![\"src\",\"href\",\"xlink:href\"].includes(e)||!n.includes(\"javascript:\")&&!n.includes(\"data:text/html\"))||(!!(e.startsWith(\"on\")||e.startsWith(\"@on\")||e.startsWith(\"#on\"))||void 0)}function m(e,t,n,i){f(e,t,n,i),h(t,n)||(c.includes(t)&&(e[t]=\"value\"===t?n:\" \"),e.setAttribute(t,n))}function g(e,t){c.includes(t)&&(e[t]=\"\"),e.removeAttribute(t)}function p(e,t){if(1===e.nodeType){for(let{name:n,value:i}of e.attributes){if(h(n,i)){g(e,n),f(e,n,i,t);continue}if(!n.startsWith(\"@\")&&!n.startsWith(\"#\"))continue;let r=n.slice(1);g(e,n),d.includes(r)&&a(i)||m(e,r,i,t)}if(e.childNodes)for(let n of e.childNodes)p(n,t)}}function b(e){return e.childNodes&&e.childNodes.length?null:e.textContent}function y(e,t,n){let i=e.childNodes,r=t.childNodes;(function(e){let t=e.querySelectorAll(\"script\");for(let e of t)e.remove()})(e)||(i.forEach((function(e,o){if(!r[o]){let i=e.cloneNode(!0);return p(i,n),void t.append(i)}if(l=e,s=r[o],\"number\"==typeof l.nodeType&&l.nodeType!==s.nodeType||\"string\"==typeof l.tagName&&l.tagName!==s.tagName||\"string\"==typeof l.id&&l.id&&l.id!==s.id||\"getAttribute\"in l&&\"getAttribute\"in s&&l.getAttribute(\"key\")!==s.getAttribute(\"key\")||\"string\"==typeof l.src&&l.src&&l.src!==s.src){let i=function(e,t){if(1!==e.nodeType)return;let n=e.getAttribute(\"id\"),i=e.getAttribute(\"key\");if(!n||!i)return;let r=n?`#${n}`:`[key=\"${i}\"]`;return t.querySelector(`:scope > ${r}`)}(e,t);if(!i){let t=e.cloneNode(!0);return p(t,n),void r[o].before(t)}r[o].before(i)}var l,s;if(i[o]&&\"hasAttribute\"in i[o]&&i[o].hasAttribute(\"reef-ignore\"))return;if(function(e,t,n){if(1!==e.nodeType)return;let i=e.attributes,r=t.attributes;for(let{name:r,value:o}of i){if(r.startsWith(\"#\"))continue;if(c.includes(r)&&u.includes(e.tagName.toLowerCase()))continue;let i=r.startsWith(\"@\")?r.slice(1):r;d.includes(i)&&a(o)?g(t,i):m(t,i,o,n)}for(let{name:e,value:n}of r)i[e]||c.includes(e)&&u.includes(t.tagName.toLowerCase())||g(t,e)}(e,r[o],n),e.nodeName.includes(\"-\"))return;let f=b(e);if(f&&f!==b(r[o])&&(r[o].textContent=f),e.childNodes.length||!r[o].childNodes.length){if(!r[o].childNodes.length&&e.childNodes.length){let t=document.createDocumentFragment();return y(e,t,n),void r[o].appendChild(t)}e.childNodes.length&&y(e,r[o],n)}else r[o].innerHTML=\"\"})),function(e,t){let n=e.length-t.length;if(!(n<1))for(;n>0;n--)e[e.length-1].remove()}(r,i))}function v(n,i,r){let o=t(n),l=function(e){let t=(new DOMParser).parseFromString(`<body><template>${e}</template></body>`,\"text/html\");return t.body?t.body.firstElementChild.content:document.createElement(\"body\")}(i);e(\"before-render\",null,o)&&(y(l,o,r),e(\"render\",null,o))}class N{constructor(e,t,n){var i;this.elem=e,this.template=t,this.signals=n.signals?n.signals.map((e=>`chorducate:signal-${e}`)):[\"chorducate:signal\"],this.events=n.events,this.handler=(i=this,function(e){i.render()}),this.debounce=null,this.start()}start(){for(let e of this.signals)document.addEventListener(e,this.handler);this.render(),e(\"start\",null,t(this.elem))}stop(){for(let e of this.signals)document.removeEventListener(e,this.handler);e(\"stop\",null,t(this.elem))}render(){let e=this;e.debounce&&window.cancelAnimationFrame(e.debounce),e.debounce=window.requestAnimationFrame((function(){v(e.elem,e.template(),e.events)}))}}function w(e,t,n={}){return new N(e,t,n)}function A(){setTimeout((function(){let e=document.querySelector(s);s=null,e&&(e.focus(),document.activeElement!==e&&(e.setAttribute(\"tabindex\",-1),e.focus()))}),1)}function x(e){e&&\"string\"==typeof e&&(s=e,document.addEventListener(\"chorducate:render\",A,{once:!0}))}export{w as component,x as focus,v as render,r as signal,l as store};\n//# sourceMappingURL=reef.es.min.js.map\n"],
  "mappings": "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",
  "names": ["e", "t", "t", "i", "o", "e", "e", "t", "o", "i", "l", "n", "r", "f", "a", "b", "f", "v", "y", "a", "b", "e"]
}
